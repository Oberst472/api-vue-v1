import{_ as x,u as C,S as w}from"./index.1e96af53.js";import{d as v,c as u,r as p,o as a,a as d,w as _,b as V,e as r,u as o,f as h,g as B,h as y,_ as U,i as S,F as P,j as L,k as F,l as N,m as A,n as D,p as I,q as j}from"./index.11c9841d.js";const G={class:"user-shortstory__photo-box"},M={class:"user-shortstory__info-box"},q=y("Name"),z=y("Height"),E=y("Mass"),H=y("Gender"),O=y("Films"),T={name:"BlockUserShortStory"},J=v({...T,props:{info:{type:Object,default:()=>({})},tag:{type:String,default:""}},setup(m){const e=m,s=u(()=>{var t;return((t=e.info)==null?void 0:t.name)||""}),n=u(()=>{var t;return((t=e.info)==null?void 0:t.height)||""}),c=u(()=>{var t;return((t=e.info)==null?void 0:t.mass)||""}),l=u(()=>{var t;return((t=e.info)==null?void 0:t.gender)||""}),i=u(()=>{var t,g;return((g=(t=e.info)==null?void 0:t.films)==null?void 0:g.length)||0}),f=u(()=>{var t,g;return(t=e.info)!=null&&t.img?(g=e.info)==null?void 0:g.img:"../../src/assets/img/placeholder.webp"}),b=u(()=>e.tag||"article"),k=u(()=>{var $;const t=($=e==null?void 0:e.info)==null?void 0:$.url.split("people/")[1],g=s==null?void 0:s.value.split(" ").join("-").toLowerCase();return`${parseFloat(t)}-${g}`});return(t,g)=>{const $=p("el-avatar");return a(),d(B(o(b)),{class:"user-shortstory",to:{name:"PageUser",params:{id:o(k),lol:66,info:JSON.stringify(e.info)},meta:{lol:77}}},{default:_(()=>[V("div",G,[r($,{size:100,src:o(f)},null,8,["src"])]),V("div",M,[o(s)?(a(),d(x,{key:0,class:"user-shortstory__item",val:o(s)},{default:_(()=>[q]),_:1},8,["val"])):h("",!0),o(n)?(a(),d(x,{key:1,class:"user-shortstory__item",val:o(n)},{default:_(()=>[z]),_:1},8,["val"])):h("",!0),o(c)?(a(),d(x,{key:2,class:"user-shortstory__item",val:o(c)},{default:_(()=>[E]),_:1},8,["val"])):h("",!0),o(l)?(a(),d(x,{key:3,class:"user-shortstory__item",val:o(l)},{default:_(()=>[H]),_:1},8,["val"])):h("",!0),o(i)?(a(),d(x,{key:4,class:"user-shortstory__item",val:o(i)},{default:_(()=>[O]),_:1},8,["val"])):h("",!0)])]),_:1},8,["to"])}}});const K=U(J,[["__scopeId","data-v-a0ac589c"]]),Q={name:"SectionUsers"},R=v({...Q,setup(m){const e=C(),s=u(()=>e.searchVal?e.getFoundUsers:e.getUsers);return(n,c)=>{const l=p("el-col"),i=p("el-row");return a(),S("section",null,[r(i,null,{default:_(()=>[(a(!0),S(P,null,L(o(s),f=>(a(),d(l,{class:"page-main__col",key:f.name},{default:_(()=>[r(K,{info:f,tag:"router-link"},null,8,["info"])]),_:2},1024))),128))]),_:1})])}}}),W={class:"block-search"},X={class:"block-search__title"},Y={name:"BlockInput"},Z=v({...Y,props:{defaultVal:{type:String,default:""}},emits:["search"],setup(m,{emit:e}){const s=m,n=F("");return N(n,()=>e("search",n.value)),A(()=>n.value=s.defaultVal),(c,l)=>{const i=p("el-input");return a(),S("div",W,[V("span",X,[D(c.$slots,"default",{},void 0,!0)]),r(i,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=f=>n.value=f),placeholder:"Enter the name",clearable:""},null,8,["modelValue"])])}}});const ee=U(Z,[["__scopeId","data-v-cb02bdc7"]]),te={class:"section-aside"},se=y("Search"),oe={name:"SectionAside"},ne=v({...oe,setup(m){const e=C(),s=function(n){e.searchVal=n};return(n,c)=>(a(),S("div",te,[r(ee,{onSearch:s,defaultVal:o(e).searchVal},{default:_(()=>[se]),_:1},8,["defaultVal"])]))}});const ae=U(ne,[["__scopeId","data-v-606de843"]]),_e={class:"block-pagination"},ce={name:"BlockPagination"},le=v({...ce,props:{count:{name:"",required:!0}},emits:["changePage"],setup(m,{emit:e}){const s=m;return(n,c)=>{const l=p("el-pagination");return a(),S("div",_e,[r(l,{background:"",layout:"prev, pager, next",total:s.count,"page-size":10,onCurrentChange:c[0]||(c[0]=i=>e("changePage",i))},null,8,["total"])])}}});const re={name:"PageHome"},de=v({...re,setup(m){const e=C(),s=I(),n=async function(c){if(e.setActivePage(c),!e.users[String(e.activePage)]){s.stChangeLoading(!0);try{await e.stGetAllUsers()}catch(i){console.log(i)}finally{s.stChangeLoading(!1)}}};return j(async()=>{if(!e.users[String(e.activePage)]){s.stChangeLoading(!0);try{await e.stGetAllUsers()}catch(l){console.log(l)}finally{s.stChangeLoading(!1)}}}),(c,l)=>{const i=p("el-aside"),f=p("el-main"),b=p("el-footer"),k=p("el-container");return a(),d(k,{class:"page-home"},{default:_(()=>[r(i,{width:"200px",class:"page-home__aside"},{default:_(()=>[r(ae)]),_:1}),r(k,{class:"page-home__body"},{default:_(()=>[r(f,{class:"page-home__main"},{default:_(()=>[r(R)]),_:1}),o(e).searchVal?h("",!0):(a(),d(le,{key:0,count:o(e).totalUsersCount,onChangePage:n},null,8,["count"])),r(b,{class:"page-home__footer"},{default:_(()=>[r(w)]),_:1})]),_:1})]),_:1})}}});export{de as default};
