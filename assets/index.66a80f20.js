var _=Object.defineProperty;var h=(t,e,s)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var c=(t,e,s)=>(h(t,typeof e!="symbol"?e+"":e,s),s);import{s as f,d as g,o as l,i as u,b as a,n as y,t as p,h as d,_ as U}from"./index.bd2a5219.js";class v{constructor(){c(this,"uri","https://swapi.dev/api")}post(e){return{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)}}get(){return{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8"}}}patch(e){return{method:"PATCH",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)}}}class S extends v{constructor(){super()}async apiGetAllUsers(e){const s=e.page||1;try{const r=await fetch(`${this.uri}/people?page=${s}`,this.get());return r.ok?await r.json():null}catch(r){return console.log(r),null}}async apiGetUserById(e){try{const s=await fetch(`${this.uri}/people/${e}`,this.get());return s.ok?await s.json():null}catch(s){return console.log(s),null}}}const i=new S,P=f("users",{state:()=>({users:{},userInfo:null,activePage:1,totalUsersCount:0,searchVal:""}),getters:{getUsers:t=>t==null?void 0:t.users[t.activePage],getFoundUsers:t=>{if(!t.searchVal)return[];const e=[];for(let s in t.users)t.users[s].forEach(r=>{const o=r.name.toLowerCase(),n=t.searchVal.toLowerCase();if(o.indexOf(n)!==-1)return e.push(r)});return e}},actions:{async stGetAllUsers(){const t={page:this.activePage};try{const e=await i.apiGetAllUsers(t);if(!e)return console.error("ERROR!!! NOT USERS!!!");const{prev:s,next:r,count:o,results:n}=e;return n.length?(this.addNewUsersToObj(n),this.setAddInfo(s,r,o),!0):!1}catch(e){return console.log(e),!1}},async stGetUserById(t){try{const e=await i.apiGetUserById(t);return e?(this.userInfo=e,!0):console.error("ERROR!!! USER NOT FOUND!!!")}catch(e){return console.log(e),!1}},addNewUsersToObj(t){this.users[String(this.activePage)]=t},setActivePage(t){this.activePage=t},setAddInfo(t,e,s){this.totalUsersCount=parseFloat(String(s))}}}),m={class:"block-item"},x={class:"block-item__title"},w=d(":"),$={class:"block-item__title__desc"},T={name:"UiTextInfo"},R=g({...T,props:{val:{type:String,default:""}},setup(t){const e=t;return(s,r)=>(l(),u("div",m,[a("span",x,[y(s.$slots,"default"),w]),a("span",$,p(e.val),1)]))}});const O={name:"SectionFooter"};const b={class:"section-footer"},A=a("span",null,"Made by professionals, do not try to repeat.",-1);function C(t,e,s,r,o,n){return l(),u("section",b,[d(" \xA9"+p(new Date().getFullYear())+" ",1),A])}const j=U(O,[["render",C]]);export{j as S,R as _,P as u};
